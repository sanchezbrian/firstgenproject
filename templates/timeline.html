<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="/stylesheets/timeline.css">

    <!-- <script>var d=document.createElement('div'), p=document.createElement('script'), pp=document.createElement('script'), incl; incl = function(){ d.id="prezi_player_qxbj8zhqkxry"; pp.innerHTML="var player = new PreziPlayer('"+d.id+"', {preziId: 'qxbj8zhqkxry', width: '640', height: '480'});"; document.body.appendChild(d); document.body.appendChild(pp); }; if (!window.PreziPlayer){ p.src="http://prezi.github.io/prezi-player/lib/prezi_player.js"; document.body.appendChild(p); p.onload = incl; } else { incl(); }</script> -->
    <title></title>
  </head>
  <body>
    <div class="navbar">
      <ul class="top_bar">
        <li><button id="back" onclick="window.location.href='/dashboard'">Go Back</button></li>
      <li><h1 id="top_bar">Student Timeline</h1></li>
        <li><div class="dropdown">
            <button class="dropbtn" onclick="myFunction()">Choose a college
        <i class="fa fa-caret-down"></i>
            </button>
          <div class="dropdown-content" id="myDropdown">
            <a onclick="window.location.href='/berkeleytimeline'">University of California, Berkeley</a>
            <a onclick="window.location.href='/torontotimeline'">University of Toronto</a>
            <a onclick="window.location.href='/cornelltimeline'">Cornell University</a>
            <a onclick="window.location.href='/harvardtimeline'">Harvard University</a>
            <a onclick="window.location.href='/uwtimeline'">University of Washington</a>
          </div>
        </div></li>
        </ul>
      </div>

      <div id="prezi-player" class="player" >
        <!-- <iframe src="https://prezi.com/player/?oid=qxbj8zhqkxry&amp;explorable=1&amp;controls=0" frameborder="0" width = "100%" height= "100%" scrolling="yes" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe> -->
      </div>
        <div class="prezi_buttons">
          <ul id="control_bar">
          <li><button id="previous_button"  type="button" onclick="previousSlide()">Previous</button></li>
          <li><button  id="count_bar" type="text" disabled></button></li>
          <li><button id="next_button"  type="button" onclick="nextSlide()">Next</button></li>
          </ul>
        </div>
        <div class="bottom_bar"></div>
<script src="http://prezi.github.io/prezi-player/lib/PreziPlayer/prezi_player.js"></script>
    <script>
      var player = new PreziPlayer('prezi-player', { //id of div to embed into
          	preziId: 'qxbj8zhqkxry', //id of prezi, visible in the url when you load the prezi on Prezi.com
            width: "100%",
            height: "100%",
            debug: true
      });
// var current = String(player.getCurrentStep());
// var total = String(player.getStepCount());

if (window.performance) {
  console.log(total)
  document.getElementById("count_bar").innerHTML = (current + " / " + total);
}

function nextSlide(){
  var current = String(player.getCurrentStep()+1);
  var total = String(player.getStepCount()-1);
  console.log(total);
  console.log(current);
  if (player.getCurrentStep() == player.getStepCount()-1){
    player.flyToStep(0);
    current=1;
    document.getElementById("count_bar").innerHTML = current + " / " + total;
    player.nextStep();
  }
  else{
    player.nextStep();
    document.getElementById("count_bar").innerHTML = current + " / " + total;
  }
}

function previousSlide(){
  var current = String(player.getCurrentStep()-1);
  var total = String(player.getStepCount()-1);
  console.log(total);
  console.log(current);
  if (player.getCurrentStep() == 0){
    current=4;
    player.flyToStep(5);
    document.getElementById("count_bar").innerHTML = current + " / " + total;
    player.previousStep();
  }
  else if (player.getCurrentStep() == 1) {
    current=5;
    document.getElementById("count_bar").innerHTML = current + " / " + total;
    player.previousStep();
  }

  else{
    player.previousStep();
    document.getElementById("count_bar").innerHTML = current + " / " + total;
  }
  // console.log(total);
  // console.log(current);
  // var current = String(player.getCurrentStep());
  // var total = String(player.getStepCount()-1);
  // player.previousStep();
  // document.getElementById("count_bar").innerHTML = current + " / " + total;
}
// function slides(){
//   player.on(PreziPlayer.EVENT_CURRENT_STEP, )
// }
function myFunction() {
  document.getElementById("myDropdown").classList.toggle("show");
}
window.onclick = function(e) {
  if (!e.target.matches('.dropbtn')) {
  var myDropdown = document.getElementById("myDropdown");
    if (myDropdown.classList.contains('show')) {
      myDropdown.classList.remove('show');
    }
  }
}


    </script>

  </body>
</html>
