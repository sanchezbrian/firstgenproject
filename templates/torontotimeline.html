<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="/stylesheets/timeline.css">
    <title></title>
  </head>
  <body>
    <div class="navbar">
  <ul class="top_bar">
    <li><button id="back" onclick="window.location.href='/timeline'">Go Back</button></li>
    <li><h1 id="top_bar">Student Timeline for University of Toronto</h1></li>
    <li><h3></h3></li>
  </ul>
    </div>
    <div id="prezi-player" class="player" >
      <!-- <iframe src="https://prezi.com/player/?oid=qxbj8zhqkxry&amp;explorable=1&amp;controls=0" frameborder="0" width = "100%" height= "100%" scrolling="yes" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe> -->
    </div>
      <div class="prezi_buttons">
        <ul id="control_bar">
        <li><button id="previous_button"  type="button" onclick="previousSlide()">Previous</button></li>
        <li><button  id="count_bar" type="text" disabled></button></li>
        <li><button id="next_button"  type="button" onclick="nextSlide()">Next</button></li>
        </ul>
      </div>
        <div class="bottom_bar"></div>
<script src="http://prezi.github.io/prezi-player/lib/PreziPlayer/prezi_player.js"></script>
          <script>
          var player = new PreziPlayer('prezi-player', { //id of div to embed into
                preziId: 'dpxvco8jpysp', //id of prezi, visible in the url when you load the prezi on Prezi.com
                width: "100%",
                height: "100%",
                debug: true
          });

          if (window.performance) {
            console.log(total)
            document.getElementById("count_bar").innerHTML = (current + " / " + total);
          }

          function nextSlide(){
            var current = String(player.getCurrentStep()+1);
            var total = String(player.getStepCount()-1);
            console.log(total);
            console.log(current);
            if (player.getCurrentStep() == player.getStepCount()-1){
              player.flyToStep(0);
              current=1;
              document.getElementById("count_bar").innerHTML = current + " / " + total;
              player.nextStep();
            }
            else{
              player.nextStep();
              document.getElementById("count_bar").innerHTML = current + " / " + total;
            }
          }

          function previousSlide(){
            var current = String(player.getCurrentStep()-1);
            var total = String(player.getStepCount()-1);
            console.log(total);
            console.log(current);
            if (player.getCurrentStep() == 0){
              current=4;
              player.flyToStep(5);
              document.getElementById("count_bar").innerHTML = current + " / " + total;
              player.previousStep();
            }
            else if (player.getCurrentStep() == 1) {
              current=8;
              document.getElementById("count_bar").innerHTML = current + " / " + total;
              player.previousStep();
            }

            else{
              player.previousStep();
              document.getElementById("count_bar").innerHTML = current + " / " + total;
            }
}
</script>

  </body>
</html>
